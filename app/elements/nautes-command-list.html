<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/fd-polymer-rest-service/fd-polymer-rest-service.html">

<link rel="import" href="../elements/nautes-command-row.html">

<polymer-element name="nautes-command-list" attributes="toast bgColor">
  <template>
    <style>
      :host{
        display: block;
        background-color: {{bgColor}};
        width: 100%;
      }
      dummy{}
    </style>

    <fd-rest-service id="getCommandsService"
      fdtype="commands/user" 
      fditems="{{commands}}" 
      toast="{{toast}}">
    </fd-rest-service>
    
    <div layout vertical center>
      <template repeat="{{command in commands}}">
        <nautes-command-row 
          toast="{{toast}}"
          bgColor="{{bgColor}}" 
          command="{{command}}"
          on-remove="{{reloadList}}"
          on-create="{{reloadList}}" >
        </nautes-command-row>
      </template>
    </div>    
  </template>
  <script>
    Polymer("nautes-command-list",{
      
      reloadList: function(){
        this.$.getCommandsService.go();
      }

    });
  </script>
</polymer-element>
