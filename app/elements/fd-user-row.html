<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-icon/core-icon.html">
<link rel="import" href="../bower_components/core-icons/core-icons.html">
<link rel="import" href="../bower_components/core-icons/image-icons.html">
<link rel="import" href="../bower_components/core-icons/social-icons.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">


<link rel="import" href="../elements/fd-manageable-element.html"> 
<link rel="import" href="../elements/fd-tag-manager.html">
<link rel="import" href="../elements/fd-property-manager.html">
<link rel="import" href="../elements/fd-image.html">

<polymer-element name="fd-user-row" attributes="toast user bgColor">
<template>
  <style>

    :host {
      display: block;
      position: relative;
      background-color: {{bgColor}};
      width: 100%;
      font-size: 1.2rem;
      font-weight: 300;
      font-family: Open Sans;
    }

    .element-input {
      margin-bottom: 5px;
      padding: 5px;
      color: #444;
      min-height: 60px;
    }
    .icon{
      width: 70px;
      height: 70px;
      border-radius: 10%;
    }
  </style>

  <fd-manageable-element elmnt="{{user}}" apiBase="users" bgColor="{{bgColor}}" uuidField="name">
  <h2>{{user.properties.fullName}}</h2>
  <description>{{user.name}}</description>
  <element-icon>
    <template if="{{!!user.properties.iconfile}}">
    <fd-image primary="{{user.properties.iconfile}}" class="icon"></fd-image>
    </template>
    <template if="{{!!user.properties.iconurl}}">
    <img _src="{{user.properties.iconurl}}" class="icon"></img>
    </template>
  <template if="{{!user.properties.iconfile && !user.properties.iconurl}}" >
    <core-icon class="icon" icon="social:people"></core-icon>
    </template>
    </element-icon>
  <header>
</header>
<!-- inserire qua il form per modificare il comando -->
<form>
  <div class="element-input" layout horizonal right start>
    <div>{{'name'|translate}}:</div>
    <paper-input id="nameInput"
    label="{{user.properties.fullname}}" 
    inputValue="{{user.properties.fullname}}">
  </paper-input>
</div>
<div class="element-input" layout horizonal right start>
    <div>Username:</div>
    <paper-input id="usernameInput"
    label="{{user.name}}" 
    inputValue="{{user.name}}">
  </paper-input>
</div>
<div class="element-input" layout horizonal right>
  <fd-tag-manager tags="{{user.roles}}">
  <header>{{'roles'|translate}}: </header>
</fd-tag-manager>
</div>
<div class="element-input" layout horizonal right>
  <div>{{'email'|translate}}:</div>
  <paper-input id="emailInput"
  label="{{user.properties.email}}" 
  inputValue="{{user.properties.email}}">
</paper-input>
</div><div class="element-input" layout horizonal right>
  <div>{{'language'|translate}}:</div>
  <paper-input id="languageInput"
  label="{{user.properties.lang}}" 
  inputValue="{{user.properties.language}}">
</paper-input>
</div>
<div class="element-input" layout horizonal right>
  <fd-property-manager properties="{{user.properties}}">
  </fd-property-manager>
</div>
</form>
<!-- end --> 
</fd-manageable-element>
</template>
  <script>
    Polymer("fd-user-row",{

    });
  </script>
</polymer-element>
