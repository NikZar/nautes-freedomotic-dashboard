<link rel="import" href="../bower_components/polymer/polymer.html">

<link rel="import" href="../elements/nautes-colorful-button.html">

<polymer-element name="nautes-marketplace-categories" attributes="smallQuery categories selected">
  <template>
    <style>
      :host {
        display: block;
      }

      .categoriesRow{
        overflow-x: auto; 
        width: 100%;
      }

      .categoriesRow::-webkit-scrollbar { 
        display: none; 
      }

      .categoriesContainer{
        margin-left: 12px;
        margin-right: 12px;
      }

    </style>



    <!-- <core-media-query
      query="{{smallQuery}}"
      queryMatches="{{smallScreen}}">
    </core-media-query>

    <template if="{{smallScreen}}">
      <div class="categoriesRow">
        <div id="categoriesContainer" class="categoriesContainer" layout horizontal center>
          <template repeat="{{category in categories}}">
            <nautes-colorful-button 
              label="{{category.name}}" 
              decimalColor="{{category.id}}">
            </nautes-colorful-button>
          </template>
        </div>
      </div>
    </template>

    <template if="{{!smallScreen}}">
      <div class="categoriesContainer">
        <template repeat="{{category in categories}}">
          <nautes-colorful-button 
            label="{{category.name}}" 
            decimalColor="{{category.id}}">
          </nautes-colorful-button>
        </template>
      </div>
    </template>-->

    <div class="categoriesContainer">
      <template repeat="{{category,index in categories}}">
        <nautes-colorful-button 
          label="{{category.name}}" 
          decimalColor="{{category.id}}"
          on-tap="{{selectCategory(index)}}">
        </nautes-colorful-button>
      </template>
    </div>

  </template>
  <script>
    Polymer("nautes-marketplace-categories",{
selectCategory: function(idx){
  console.log("Marketplace category: " + this.categories[idx]);
  this.selected = idx;
}
      /*smallScreenChanged: function(){
        if(this.smallScreen){

          var self = this;

          var setWidth = function(){
            document.getElementById('categoriesContainer').style.width = (this.categories.length * 206) + "px";
          }

          window.setTimeout(function(){
            setWidth();
          }, 1000);

        }
      }*/

    });
  </script>
</polymer-element>
