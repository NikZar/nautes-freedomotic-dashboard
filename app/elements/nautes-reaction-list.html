<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/fd-polymer-rest-service/fd-polymer-rest-service.html">

<link rel="import" href="../elements/nautes-reaction-row.html">

<polymer-element name="nautes-reaction-list" attributes="toast bgColor">
  <template>
    <style>
      :host {
        display: block;
        background-color: {{bgColor}};
        width: 100%;
      }
dummy{}
    </style>

    <fd-rest-service id="getReactionsService"
      fdtype="OLDreactions" 
      fditems="{{reactions}}" 
      toast="{{toast}}">
    </fd-rest-service>

    <div layout vertical center>
      <template repeat="{{reaction in reactions}}">
        <nautes-reaction-row 
          toast="{{toast}}"
          bgColor="{{bgColor}}" 
          reaction="{{reaction}}"
          on-remove="{{reloadList}}">
        </nautes-reaction-row>
      </template>
    </div>    
  </template>
  <script>
    Polymer("nautes-reaction-list",{
      
      reloadList: function(){
        this.$.getReactionsService.go();
      }

    });
  </script>
</polymer-element>
