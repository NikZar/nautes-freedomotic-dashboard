<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,300italic,600">

    <link rel="stylesheet" type="text/css" href="x-tag-components.css"/>
    <link rel="stylesheet" type="text/css" href="../src/iconbutton.css"/>

    <script type="text/javascript" src="x-tag-components.js"></script>
    <script type="text/javascript" src="../src/iconbutton.js"></script>

    <style>
    /* applying styles to x-iconbutton applies styles as if it were to the button

       applying styles to x-iconbutton .x-iconbutton-icon applies styles to the icon of the
       button

       applying styles to x-iconbutton .x-iconbutton-content applies styles to the content of the
       button
    */

    x-iconbutton{
        vertical-align: middle;
        line-height: normal;
    }

    .custom-style-iconbutton{
        border: 1px solid grey;
        border-radius: 4px;
        box-shadow: 1px 1px grey;
        padding: 5px;

        background-color: #93bce0;
        background-image: none;
    }

    .custom-style-iconbutton:hover{
        background-color: #bbd5eb;
        background-image: none;
    }

    .custom-style-iconbutton[active]{
        box-shadow: inset 1px 1px 4px grey;
        background-color: #bbd5eb;
        background-image: none;
    }

    .custom-style-iconbutton .x-iconbutton-content{
        font-family: font-family: ‘Lucida Sans Unicode’, ‘Lucida Grande’, sans-serif;
        font-size: 2em;
        letter-spacing: 1px;
        padding: 0em;
        color: white;
        text-shadow: -1px -1px #ddd;
    }

    .demo-button .x-iconbutton-content{
        font-size: 2em;
    }

    .fancy-html-icon{
        margin: 0 auto;
        padding: 0;
        position: relative;
        width: 40px;
        height: 40px;
        border: 4px solid #ccc;
    }

    .fancy-html-icon span{
        position: absolute;
        right: 10%;
        bottom: 10%;

        font-family: Georgia, serif;
        z-index: 2;
    }

    .fancy-html-icon div{
        position: absolute;
        width: 70%;
        height: 70%;
        left: 10%;
        right: 10%;
        background-color: cyan;
        border-radius: 4px;
        z-index: 1;
    }

    .fancy-html-label{
        font-family: Georgia, serif;
    }

    .circle{
        border-radius: 100%;
        border: 3px dotted red;
        width: 20px;
        height: 20px;
        display: inline-block;
    }

    code{
        display: block;
        margin-bottom: .5em;
    }
    </style>
</head>
<body>
    <article>
        <header><h1>X-Iconbutton demos</h1></header>
        <h2>Basic initialization</h2>
        <ul>
          <li>
            <span>Left icon (default):</span>
            <x-iconbutton src="http://placecage.com/30/30">Hello</x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton src=&quot;http://placecage.com/30/30&quot;&gt;Hello&lt;/x-iconbutton&gt;
            </code>
          </li>
          <li>
            <span>Left icon (specified):</span>
            <x-iconbutton src="http://placecage.com/30/30" icon-anchor="left">Hello</x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton src=&quot;http://placecage.com/30/30&quot; icon-anchor=&quot;left&quot;&gt;Hello&lt;/x-iconbutton&gt;
            </code>
          </li>
          <li>
            <span>Right icon:</span>
            <x-iconbutton src="http://placecage.com/30/30" icon-anchor="right">Hello</x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton src=&quot;http://placecage.com/30/30&quot; icon-anchor=&quot;right&quot;&gt;Hello&lt;/x-iconbutton&gt;
            </code>
          </li>
          <li>
            <span>Top icon:</span>
            <x-iconbutton src="http://placecage.com/30/30" icon-anchor="top">Hello</x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton src=&quot;http://placecage.com/30/30&quot; icon-anchor=&quot;top&quot;&gt;Hello&lt;/x-iconbutton&gt;
            </code>
          </li>
          <li>
            <span>Bottom icon:</span>
            <x-iconbutton src="http://placecage.com/30/30" icon-anchor="bottom">Hello</x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton src=&quot;http://placecage.com/30/30&quot; icon-anchor=&quot;bottom&quot;&gt;Hello&lt;/x-iconbutton&gt;
            </code>
          </li>
          <li>
            <span>No content:</span>
            <x-iconbutton src="http://placecage.com/30/30"></x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton src=&quot;http://placecage.com/30/30&quot;&gt;&lt;/x-iconbutton&gt;
            </code>
          </li>
          <li>
            <span>No Icon (ie: normal button):</span>
            <x-iconbutton>Hello</x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton&gt;Hello&lt;/x-iconbutton&gt;
            </code>
          </li>
          <li>
            <span>No content at all:</span>
            <x-iconbutton></x-iconbutton>
            <code class="prettyprint">
                &lt;x-iconbutton&gt;&lt;/x-iconbutton&gt;
            </code>
          </li>
        </ul>

        <h2>Custom styling:</h2>
        <x-iconbutton class="custom-style-iconbutton" icon-anchor="left">No Icon</x-iconbutton>
        <x-iconbutton class="custom-style-iconbutton" src="../../site/img/firefox.png" icon-anchor="left">Left</x-iconbutton>
        <x-iconbutton class="custom-style-iconbutton" src="../../site/img/firefox.png" icon-anchor="right">Right</x-iconbutton>
        <x-iconbutton class="custom-style-iconbutton" src="../../site/img/firefox.png" icon-anchor="top">Top</x-iconbutton>
        <x-iconbutton class="custom-style-iconbutton" src="../../site/img/firefox.png" icon-anchor="bottom">Bottom</x-iconbutton>

        <h2>Dynamic editing:</h2>
        <ul id="attr-demos">
          <li>
            <span>Anchor editing:</span>
            <x-iconbutton id="anchor-demo"  class="demo-button" src="http://placecage.com/40/40">Lorem Ipsum</x-iconbutton>
            <button onclick="changeAnchor(this, 'left')">Left</button>
            <button onclick="changeAnchor(this, 'right')">Right</button>
            <button onclick="changeAnchor(this, 'top')">Top</button>
            <button onclick="changeAnchor(this, 'bottom')">Bottom</button>
            <button onclick="changeAnchor(this, '')">Default (left)</button>
          </li>
          <li>
            <span>Icon Src editing:</span>
            <x-iconbutton id="icon-demo" class="demo-button" src="http://placecage.com/39/39">Icons</x-iconbutton>
            <button onclick="changeSrc(this, 'http://placecage.com/39/39')">
                Nic Cage (url)
            </button>
            <button onclick="changeSrc(this, 'firefox.png')">
                Firefox (local)
            </button>
            <button onclick="changeSrc(this, '')">
                None (empty string)
            </button>
            <button onclick="changeSrc(this, null)">
                None (null)
            </button>
          </li>
        </ul>

        <ul id="dom-edit-demo">
          <li>
             <span>Parts editing (see source)</span>
             <x-iconbutton id="parts-demo" class="demo-button"
                           src="../../site/img/firefox.png">Parts</x-iconbutton>
             <button onclick="editButton(this, function(iconButton){
                iconButton.iconEl.style.backgroundColor = randomColor();
             })">
                Edit Icon
             </button>
             <button onclick="editButton(this, function(iconButton){
               iconButton.contentEl.style.backgroundColor = randomColor();
             })">
                Edit Label
             </button>
          </li>
        </ul>
    </article>

    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>

    <script>
        function randomColor(){
            var _randomVal = function(){
                return Math.floor(Math.random() * 256);
            }

            return "rgb("+_randomVal()+","+_randomVal()+","+_randomVal()+")";
        }

        function getUniqueString(){
            return String(new Date().valueOf());
        }

        function changeAnchor(button, anchor){
            var iconButton = button.parentNode.querySelector("x-iconbutton");

            iconButton.iconAnchor = anchor;
        }

        function changeSrc(button, imgSrc){
            var iconButton = button.parentNode.querySelector("x-iconbutton");

            iconButton.src = imgSrc;
        }


        function editButton(button, editFn){
            var iconButton = button.parentNode.querySelector("x-iconbutton");
            editFn(iconButton);
        }

        document.addEventListener('DOMComponentsLoaded', function(){

            xtag.addEvents(document, {
                "click:delegate(x-iconbutton)": function(e){
                    console.log(e.type, this);
                },
                "focus:delegate(x-iconbutton)": function(e){
                    console.log(e.type, this);
                },
                "blur:delegate(x-iconbutton)": function(e){
                    console.log(e.type, this);
                }
            });
        }, false);

    </script>
</body>
</html>